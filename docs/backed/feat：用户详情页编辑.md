# 概览

分为上下两部分。
上部分是用户基本信息区。在未登录的情况下，显示未知用户头像，用户名为‘未登录’，点击即可跳转到login.vue进行登录
然后是关注和粉丝，这一部分如果未登录，则显示"--"。
下部分是用户发布和收藏的帖子，可以左右滑动切换。未登录状态下则没有帖子

# 思路

打算分为多个组件进行
上部分为user-head.vue，下为
user-tabs.vue  
 ├── user-posts.vue
└── user-favorites.vue

# user-head.vue

直接使用user工具类来检测登录状态，注意要在组件加载前判断完成

# user-edit

登录后发现是新用户，则会自动跳转到这个界面，填写完毕或者点击跳过，则会跳转到主界面index
可以上传头像，填写用户名，性别。点击完成后会同步更新userInfo本地缓存和数据库信息（PUT/user/userinfo）

# BUG

未登录时点击user-info内的head组件，进入login并登录后进入user-edit，发现

- 直接跳过后会处于未登录状态，且无法再次通过点击“未登录”来跳转到login
- user-edit编辑页，性别字段无法正常保存，用户名和头像上传结果为403缺少授权

## 修复

- 修复了直接传入userInfo这一ref对象而不是.value。
